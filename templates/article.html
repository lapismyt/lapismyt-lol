{% extends "base.html" %}

{% block content %}
  <h2>{{ article.title }}</h2>
  <p>By: {{ article.author.username }} on {{ article.created_at.strftime('%Y-%m-%d') }}</p>
  <p>{{ article.content }}</p>

  <form action="{{ url_for('like_article', article_id=article.id) }}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <button type="submit" name="submit" id="submitlike" style="display: none;"></button>
    <label for="submitlike"><span class="btn">Like ({{ article.likes }})</span>></label>
  </form>

  {% if current_user.is_authenticated and current_user.is_admin %}
    <form action="{{ url_for('delete_article', article_id=article.id) }}" method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <button type="submit" name="submit" id="submitdel" style="display: none;">Delete</button>
      <label for="submitdel"><span class="btn" onclick="return confirm('Are you sure you want to delete this article?')">Like ({{ article.likes }})</span>></label>
    </form>
  {% endif %}
{% endblock %}